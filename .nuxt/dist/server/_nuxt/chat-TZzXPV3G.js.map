{"version":3,"file":"chat-TZzXPV3G.js","sources":["../../../../app/pages/sobre/chat.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-orange-400 via-orange-500 to-red-500\">\r\n    <Header />\r\n    \r\n    <section class=\"py-12 px-4\">\r\n      <div class=\"container mx-auto\">\r\n        <div class=\"max-w-5xl mx-auto\">\r\n          <div class=\"text-center mb-8\">\r\n            <h1 class=\"text-4xl md:text-5xl font-bold text-white mb-4\">\r\n              Chat com Aika\r\n            </h1>\r\n            <p class=\"text-xl text-orange-100 max-w-2xl mx-auto\">\r\n              Converse diretamente com a inteligência estratégica\r\n            </p>\r\n          </div>\r\n\r\n          <div class=\"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-orange-200\">\r\n            <ClientOnly>\r\n              <div id=\"chat-container\" ref=\"chatContainer\" class=\"w-full h-[70vh] relative\">\r\n                <div class=\"flex items-center justify-center h-full\">\r\n                  <div class=\"text-center\">\r\n                    <div class=\"animate-spin rounded-full h-12 w-12 border-b-3 border-orange-500 mx-auto mb-4\"></div>\r\n                    <p class=\"text-gray-600 text-lg\">Carregando chat...</p>\r\n                    <p class=\"text-gray-500 text-sm mt-2\">Conectando com Aika...</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <template #fallback>\r\n                <div class=\"w-full h-[70vh] flex items-center justify-center\">\r\n                  <div class=\"text-center\">\r\n                    <div class=\"animate-spin rounded-full h-12 w-12 border-b-3 border-orange-500 mx-auto mb-4\"></div>\r\n                    <p class=\"text-gray-600 text-lg\">Preparando chat...</p>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n            </ClientOnly>\r\n          </div>\r\n\r\n          <div class=\"grid md:grid-cols-2 gap-6 mt-8\">\r\n            <div class=\"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30\">\r\n              <div class=\"flex items-center mb-3\">\r\n                <div class=\"w-10 h-10 bg-orange-200 rounded-full flex items-center justify-center mr-3\">\r\n                  <svg class=\"w-5 h-5 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\"></path>\r\n                  </svg>\r\n                </div>\r\n                <h3 class=\"text-lg font-semibold text-white\">Respostas Rápidas</h3>\r\n              </div>\r\n              <p class=\"text-orange-100\">Obtenha respostas instantâneas e precisas para suas perguntas</p>\r\n            </div>\r\n            <div class=\"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30\">\r\n              <div class=\"flex items-center mb-3\">\r\n                <div class=\"w-10 h-10 bg-orange-200 rounded-full flex items-center justify-center mr-3\">\r\n                  <svg class=\"w-5 h-5 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"></path>\r\n                  </svg>\r\n                </div>\r\n                <h3 class=\"text-lg font-semibold text-white\">Análise Inteligente</h3>\r\n              </div>\r\n              <p class=\"text-orange-100\">Receba insights estratégicos baseados em análise avançada</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <Footer />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// SUGESTÃO: Importar 'ref' para usar Template Refs\r\nimport { onMounted, ref } from 'vue'\r\nimport Header from '~/components/Header.vue'\r\nimport Footer from '~/components/Footer.vue'\r\n\r\n// SEO metadata (sem alterações, está perfeito)\r\nuseHead({\r\n  title: 'Chat - Aika | Conversa Inteligente',\r\n  meta: [\r\n    { name: 'description', content: 'Converse diretamente com Aika, a inteligência estratégica. Chat inteligente para tirar dúvidas e explorar ideias sobre projetos digitais.' },\r\n    { property: 'og:title', content: 'Chat com Aika | Conversa Inteligente' },\r\n    { property: 'og:description', content: 'Interaja diretamente com Aika através do chat inteligente. Análise estratégica e respostas instantâneas para seus projetos.' },\r\n    { property: 'og:image', content: '/Imagem/aika-ophen-graph.webp' },\r\n    { property: 'og:url', content: 'https://www.aikanakamura.com/sobre/chat' },\r\n    { property: 'og:type', content: 'website' }\r\n  ]\r\n})\r\n\r\n// SUGESTÃO: Declarar a ref que será ligada ao template\r\nconst chatContainer = ref(null)\r\n\r\n/**\r\n * SUGESTÃO: Função robusta para esperar que um elemento apareça no DOM e depois escondê-lo.\r\n * Isto substitui o setTimeout, que é frágil.\r\n */\r\nconst hideChatToggleButton = () => {\r\n  const maxAttempts = 20 // Tenta por 5 segundos no total (20 * 250ms)\r\n  let attempts = 0\r\n  \r\n  const interval = setInterval(() => {\r\n    // Procura por múltiplos seletores possíveis para o botão\r\n    const toggleButton = document.querySelector('.chat-window-toggle, [class*=\"chat-toggle\"]')\r\n    \r\n    if (toggleButton) {\r\n      toggleButton.style.display = 'none'\r\n      toggleButton.style.visibility = 'hidden' // Garante que está mesmo escondido\r\n      clearInterval(interval) // Para de procurar uma vez que o encontrou\r\n    } else if (attempts >= maxAttempts) {\r\n      clearInterval(interval) // Para de procurar se atingir o tempo limite\r\n      console.warn('Não foi possível encontrar o botão de toggle do chat para o esconder.')\r\n    }\r\n    \r\n    attempts++\r\n  }, 250) // Verifica a cada 250ms\r\n}\r\n\r\n// Initialize chat\r\nonMounted(async () => {\r\n  // A verificação `!process.client` é removida por ser redundante dentro do onMounted\r\n  try {\r\n    // Opcional: O delay pode ser mantido se for para um efeito visual, mas não é estritamente necessário\r\n    await new Promise(resolve => setTimeout(resolve, 500)) \r\n    \r\n    const { createChat } = await import('@n8n/chat')\r\n    await import('@n8n/chat/style.css')\r\n    \r\n    // SUGESTÃO: Usar a ref em vez de querySelector\r\n    const container = chatContainer.value\r\n    if (container) {\r\n      container.innerHTML = '' // Limpa o estado de \"carregando\"\r\n      \r\n      createChat({\r\n        webhookUrl: 'https://wb.aikanakamura.com/webhook/0e8d2744-1dea-4a44-9942-c4cc44b60cc1/chat',\r\n        // SUGESTÃO: Passa o próprio elemento para o target\r\n        target: container,\r\n        mode: 'window',\r\n        defaultOpen: true,\r\n        showWelcomeScreen: true,\r\n        loadPreviousSession: true\r\n      })\r\n\r\n      // SUGESTÃO: Chama a nova função robusta para esconder o botão\r\n      hideChatToggleButton()\r\n    }\r\n  } catch (error) {\r\n    console.error('Erro ao carregar chat:', error)\r\n    // SUGESTÃO: Usa a ref aqui também para consistência\r\n    const container = chatContainer.value\r\n    if (container) {\r\n      container.innerHTML = `\r\n        <div class=\"flex items-center justify-center h-full text-center p-8\">\r\n          <div>\r\n            <p class=\"text-lg font-semibold text-red-600 mb-2\">Chat temporariamente indisponível</p>\r\n            <p class=\"text-gray-600\">Entre em contato através da <a href=\"/contato\" class=\"text-purple-600 hover:underline\">página de contato</a></p>\r\n          </div>\r\n        </div>\r\n      `\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style>\r\n/* A estilização está boa, não há necessidade de alterações. */\r\n/* O uso de !important aqui é justificado para sobrescrever estilos de uma biblioteca de terceiros. */\r\n\r\n/* Hide chat toggle button */\r\n.chat-window-toggle,\r\n[class*=\"chat-toggle\"],\r\n[class*=\"toggle-button\"],\r\n[id*=\"chat-toggle\"] {\r\n  display: none !important;\r\n  visibility: hidden !important;\r\n}\r\n\r\n/* Ensure chat window appears in the container */\r\n#chat-container .chat-window {\r\n  position: relative !important;\r\n  transform: none !important;\r\n  box-shadow: none !important;\r\n  border-radius: 0 !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n}\r\n\r\n/* Custom chat styling */\r\n#chat-container {\r\n  background: white;\r\n  border-radius: 1.5rem;\r\n  overflow: hidden;\r\n}\r\n</style>"],"names":["useHead","ref","_push","_ssrRenderAttrs","_mergeProps","_attrs","_","_parent","_scopeId","_createVNode"],"mappings":"omDA6EA,OAAAA,EAAQ,CACN,MAAO,qCACP,KAAM,CACJ,CAAE,KAAM,cAAe,QAAS,2IAAA,EAChC,CAAE,SAAU,WAAY,QAAS,sCAAA,EACjC,CAAE,SAAU,iBAAkB,QAAS,6HAAA,EACvC,CAAE,SAAU,WAAY,QAAS,+BAAA,EACjC,CAAE,SAAU,SAAU,QAAS,yCAAA,EAC/B,CAAE,SAAU,UAAW,QAAS,SAAA,CAAU,CAC5C,CACD,EAGqBC,EAAI,IAAI,wBAzFvBC,EAAA,OAAAC,EAAAC,EAAA,CAAA,MAAM,4EAA0EC,CAAA,CAAA,CAAA,GAAA,2bA0B9D,WAAX,CAOWC,EAAAJ,EAAAK,EAAAC,IAAA,mSANTC,EAKM,MAAA,CALD,MAAM,oDAAkD,CAC3DA,EAGM,MAAA,CAHD,MAAM,eAAa,CACtBA,EAAiG,MAAA,CAA5F,MAAM,gFAA+E,EAC1FA,EAAuD,IAAA,CAApD,MAAM,uBAAA,EAAwB,oBAAkB,CAAA"}